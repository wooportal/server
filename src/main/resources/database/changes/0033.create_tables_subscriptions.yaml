databaseChangeLog:
- logicalFilePath: path_independent
- changeSet:
    id: 0030.create_tables_subscriptions.1
    author: codeschluss
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: subscription_id
            type: CHAR(36)
        - column:
            constraints:
              nullable: false
            name: subscription_type_id
            type: CHAR(36)
        - column:
            constraints:
              primaryKey: true
            name: id
            type: VARCHAR(255)
        tableName: subscribed_types
    - sql:
        comment: set char set for mysql
        dbms: mysql
        endDelimiter: \nGO
        splitStatements: true
        sql: ALTER TABLE subscribed_types CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
- changeSet:
    id: 0030.create_tables_subscriptions.2
    author: codeschluss
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: subscription_id
            type: CHAR(36)
        - column:
            constraints:
              nullable: false
            name: activity_id
            type: CHAR(36)
        - column:
            constraints:
              primaryKey: true
            name: id
            type: VARCHAR(255)
        tableName: activity_subscriptions
    - sql:
        comment: set char set for mysql
        dbms: mysql
        endDelimiter: \nGO
        splitStatements: true
        sql: ALTER TABLE activity_subscriptions CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
- changeSet:
    id: 0030.create_tables_subscriptions.3
    author: codeschluss
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: subscription_id
            type: CHAR(36)
        - column:
            constraints:
              nullable: false
            name: blogger_id
            type: CHAR(36)
        - column:
            constraints:
              primaryKey: true
            name: id
            type: VARCHAR(255)
        tableName: blogger_subscriptions
    - sql:
        comment: set char set for mysql
        dbms: mysql
        endDelimiter: \nGO
        splitStatements: true
        sql: ALTER TABLE blogger_subscriptions CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
- changeSet:
    id: 0030.create_tables_subscriptions.4
    author: codeschluss
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: subscription_id
            type: CHAR(36)
        - column:
            constraints:
              nullable: false
            name: organisation_id
            type: CHAR(36)
        - column:
            constraints:
              primaryKey: true
            name: id
            type: VARCHAR(255)
        tableName: organisation_subscriptions
    - sql:
        comment: set char set for mysql
        dbms: mysql
        endDelimiter: \nGO
        splitStatements: true
        sql: ALTER TABLE organisation_subscriptions CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
- changeSet:
    id: 0030.create_tables_subscriptions.5
    author: codeschluss
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              nullable: false
            name: subscription_id
            type: CHAR(36)
        - column:
            constraints:
              nullable: false
            name: topic_id
            type: CHAR(36)
        - column:
            constraints:
              primaryKey: true
            name: id
            type: VARCHAR(255)
        tableName: topic_subscriptions
    - sql:
        comment: set char set for mysql
        dbms: mysql
        endDelimiter: \nGO
        splitStatements: true
        sql: ALTER TABLE topic_subscriptions CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
- changeSet:
    id: 0030.create_tables_subscriptions.6
    author: codeschluss
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              primaryKey: true
              primaryKeyName: subscription_typesPK
            name: id
            type: CHAR(36)
        - column:
            constraints:
              nullable: false
            defaultValueComputed: CURRENT_TIMESTAMP
            name: created
            type: TIMESTAMP
        - column:
            constraints:
              nullable: false
            defaultValueComputed: CURRENT_TIMESTAMP
            name: modified
            type: TIMESTAMP
        - column:
            constraints:
                nullable: false
            name: config_type
            type: VARCHAR(255)
        tableName: subscription_types
    - sql:
        comment: set char set for mysql
        dbms: mysql
        endDelimiter: \nGO
        splitStatements: true
        sql: ALTER TABLE subscription_types CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
- changeSet:
    id: 0030.create_tables_subscriptions.7
    author: codeschluss
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              primaryKey: true
              primaryKeyName: subscription_type_translatablesPK
            name: id
            type: CHAR(36)
        - column:
            constraints:
              nullable: false
            defaultValueComputed: CURRENT_TIMESTAMP
            name: created
            type: TIMESTAMP
        - column:
            constraints:
              nullable: false
            defaultValueComputed: CURRENT_TIMESTAMP
            name: modified
            type: TIMESTAMP
        - column:
            constraints:
              nullable: false
            name: description
            type: TEXT
        - column:
            constraints:
              nullable: false
            name: name
            type: VARCHAR(255)
        - column:
            name: language_id
            type: CHAR(36)
        - column:
            constraints:
              nullable: false
            name: parent_id
            type: CHAR(36)
        tableName: subscription_type_translatables
    - sql:
        comment: set char set for mysql
        dbms: mysql
        endDelimiter: \nGO
        splitStatements: true
        sql: ALTER TABLE subscription_type_translatables CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
- changeSet:
    id: 0030.create_tables_subscriptions.8
    author: codeschluss
    changes:
    - addUniqueConstraint:
        columnNames: subscription_id, subscription_type_id
        constraintName: UK3v118j2xcvmo4e9wxk70wmc8j
        tableName: subscribed_types
- changeSet:
    id: 0030.create_tables_subscriptions.9
    author: codeschluss
    changes:
    - addUniqueConstraint:
        columnNames: subscription_id, topic_id
        constraintName: UK6mulsm75q63xuabkxrdpuoh0r
        tableName: topic_subscriptions
- changeSet:
    id: 0030.create_tables_subscriptions.10
    author: codeschluss
    changes:
    - addUniqueConstraint:
        columnNames: subscription_id, organisation_id
        constraintName: UKcnxg7d1cica7adv8eerq3yon
        tableName: organisation_subscriptions
- changeSet:
    id: 0030.create_tables_subscriptions.11
    author: codeschluss
    changes:
    - addUniqueConstraint:
        columnNames: subscription_id, blogger_id
        constraintName: UKdd3kn2x6sguglkjng5t2d46db
        tableName: blogger_subscriptions
- changeSet:
    id: 0030.create_tables_subscriptions.12
    author: codeschluss
    changes:
    - addUniqueConstraint:
        columnNames: subscription_id, activity_id
        constraintName: UKq5idwlg57g63wo5ev163xvowu
        tableName: activity_subscriptions
- changeSet:
    id: 0030.create_tables_subscriptions.13
    author: codeschluss
    changes:
    - addUniqueConstraint:
        columnNames: auth_secret
        constraintName: UKdd3kn2x6sguglkjev163xvowu
        tableName: subscriptions
- changeSet:
    id: 0030.create_tables_subscriptions.14
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: subscription_id
        baseTableName: subscribed_types
        constraintName: FK3tj3ooaxe42w64cq2ja22bmj0
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: subscriptions
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.15
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: topic_id
        baseTableName: topic_subscriptions
        constraintName: FKd6dua6o9elgacf6k087ql03sv
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: topics
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.16
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: parent_id
        baseTableName: subscription_type_translatables
        constraintName: FKflx8hcwhngoqv5b6r3d50dxym
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: subscription_types
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.17
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: organisation_id
        baseTableName: organisation_subscriptions
        constraintName: FKikp5kkbijxvdeh7m84bslfi8s
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: organisations
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.18
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: subscription_id
        baseTableName: topic_subscriptions
        constraintName: FKl2k4uqdvg9oebkpiwjuo0ay4o
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: subscriptions
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.19
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: subscription_id
        baseTableName: organisation_subscriptions
        constraintName: FKqmc2t2pnkxdvwuvu9t0ep0sqe
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: subscriptions
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.20
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: activity_id
        baseTableName: activity_subscriptions
        constraintName: FKr9bqnuqoh3lohidt2m0dx44pc
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: activities
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.21
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: blogger_id
        baseTableName: blogger_subscriptions
        constraintName: FKrr8poc339fiw5mtot7son23li
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: bloggers
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.22
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: subscription_id
        baseTableName: blogger_subscriptions
        constraintName: FKs6om7betkwpkuxfirka3g6oun
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: subscriptions
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.23
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: language_id
        baseTableName: subscription_type_translatables
        constraintName: FKsisbg5i0k7pmlnroc7e02enom
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: languages
        validate: true
- changeSet:
    id: 0030.create_tables_subscriptions.24
    author: codeschluss
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: subscription_type_id
        baseTableName: subscribed_types
        constraintName: FKt0l7vq41i6h083g01hsegorlx
        deferrable: false
        initiallyDeferred: false
        onDelete: CASCADE
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: subscription_types
        validate: true
